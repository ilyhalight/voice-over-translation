.vot-slider {
  width: 100% !important;
  color: rgba(var(--vot-onsurface-rgb, 0, 0, 0), 0.87) !important;
  font-family: var(
    --vot-font-family,
    "Roboto",
    "Segoe UI",
    BlinkMacSystemFont,
    system-ui,
    -apple-system
  ) !important;
  font-size: 16px !important;
  line-height: 1.5 !important;
  text-align: start !important;

  // Stable, predictable layout (no negative margins / relative shifts).
  display: flex;
  flex-direction: column;
  gap: 6px;

  // Label row (rendered inside a wrapping <span> by the Slider component).
  & > span {
    order: 1;
    display: block !important;
    margin: 0 !important;
  }

  // SliderLabel component.
  .vot-slider-label {
    // Proximity-first label/value layout:
    // show values as part of the label ("Subtitles max length: 300")
    // instead of forcing users to scan to the far right edge.
    display: inline-flex;
    align-items: baseline;
    gap: 6px;
    flex-wrap: wrap;
    width: 100%;
  }

  &-label-value {
    margin-left: 0 !important;
    font-variant-numeric: tabular-nums;
    // Reduce visual noise: values should be legible but not steal attention.
    font-weight: 500 !important;
  }

  .vot-slider-label-text {
    min-width: 0;
  }

  & > input {
    order: 2;

    border: none !important;
    appearance: none !important;
    -webkit-appearance: none !important;
    position: relative !important;
    top: 0 !important;
    display: block !important;
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    height: 32px !important;
    background-color: transparent !important;
    cursor: pointer !important;

    &:hover {
      // Odysee applies aggressive player styles that can leak here.
      box-shadow: none !important;
    }

    /* Track Fill */
    &::before {
      content: "" !important;
      display: block !important;
      position: absolute !important;
      width: calc(100% * var(--vot-progress, 0)) !important;
      height: 2px !important;
      top: calc(50% - 1px) !important;
      background: rgb(var(--vot-primary-rgb, 33, 150, 243)) !important;
    }

    &:disabled {
      cursor: default !important;
      opacity: 0.38 !important;

      & + span {
        color: rgba(var(--vot-onsurface-rgb, 0, 0, 0), 0.38) !important;
      }

      &::-webkit-slider-runnable-track,
      &::-moz-range-track {
        background-color: rgba(
          var(--vot-onsurface-rgb, 0, 0, 0),
          0.38
        ) !important;
      }

      &::-webkit-slider-thumb,
      &::-moz-range-thumb {
        background-color: rgb(var(--vot-onsurface-rgb, 0, 0, 0)) !important;
        box-shadow: 0 0 0 1px rgb(var(--vot-surface-rgb, 255, 255, 255)) !important;
        transform: scale(4, 4) !important;
      }

      &::-moz-range-progress {
        background-color: rgba(
          var(--vot-onsurface-rgb, 0, 0, 0),
          0.87
        ) !important;
      }
    }

    // Keep interaction clean: avoid pointer-driven "halo" effects.
    // (Keyboard focus indicator is handled via :focus-visible below.)
    // Vimeo player styles can leak native outlines into our control.
    &:focus {
      outline: none !important;
    }

    /* Webkit / Moz | Track */
    &::-webkit-slider-runnable-track,
    &::-moz-range-track {
      margin: 15px 0 !important;
      border-radius: 1px !important;
      width: 100% !important;
      height: 2px !important;
      background-color: rgba(
        var(--vot-primary-rgb, 33, 150, 243),
        0.24
      ) !important;
    }

    /* Webkit / Moz | Thumb */
    &::-webkit-slider-thumb,
    &::-moz-range-thumb {
      appearance: none !important;
      border: none !important;
      border-radius: 50% !important;
      width: 2px !important;
      height: 2px !important;
      background-color: rgb(var(--vot-primary-rgb, 33, 150, 243)) !important;
      transform: scale(6, 6) !important;
      box-shadow: none !important;
      transition: box-shadow 0.2s !important;
    }

    &::-webkit-slider-thumb {
      margin: 0 !important;
      -webkit-appearance: none !important;
    }

    /* Moz | Progress */
    &::-moz-range-progress {
      border-radius: 1px !important;
      height: 2px !important;
      background-color: rgb(var(--vot-primary-rgb, 33, 150, 243)) !important;
    }

    // Do not show focus halos for pointer focus.
    &:focus:not(:focus-visible)::-webkit-slider-thumb,
    &:focus:not(:focus-visible)::-moz-range-thumb {
      box-shadow: none !important;
    }

    // Keyboard focus: show an explicit indicator on the thumb.
    // The global `html.vot-keyboard-nav` class is toggled by JS only on Tab.
    // We scope the styles to our own slider to avoid affecting host-page ranges.
    @at-root {
      html.vot-keyboard-nav .vot-slider > input:focus-visible::-webkit-slider-thumb,
      html.vot-keyboard-nav .vot-slider > input:focus-visible::-moz-range-thumb {
        box-shadow: 0 0 0 2px rgba(var(--vot-primary-rgb, 33, 150, 243), 0.24) !important;
      }

      @supports not selector(:focus-visible) {
        html.vot-keyboard-nav .vot-slider > input:focus::-webkit-slider-thumb,
        html.vot-keyboard-nav .vot-slider > input:focus::-moz-range-thumb {
          box-shadow: 0 0 0 2px rgba(var(--vot-primary-rgb, 33, 150, 243), 0.24) !important;
        }
      }
    }
  }
}
